<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>LEARN 2 GROW | Posts</title>
        <link rel="stylesheet" href="../styles/style.css">
        <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
    </head>
    <body>
        <!-- Header Section -->
        <div class="background">
            <header class="header">
                <nav class="navbar">
                    <a href="index.html">Home</a>
                    <a href="about.html">About</a>
                    <a href="posts.html" class="active">Posts</a>
                    <a href="donate.html">Donate</a>
                </nav>
            </header>

            <!-- Authentication Required Message (shown if not logged in) -->
            <div class="auth-required" id="auth-required" style="display:none;">
                <div class="auth-message">
                    <h2>Authentication Required</h2>
                    <p>You need to login to access this page and share your stories.</p>
                    <a href="index.html" class="btn">Go to Login</a>
                </div>
            </div>

            <!-- Content (shown only if logged in) -->
            <div class="posts-content" id="posts-content" style="display:none;">
                <!-- Create Post Section -->
                <section class="post-creation">
                    <div class="post-creation-container">
                        <h2>Share Your Story</h2>
                        <form class="post-form" id="storyForm">
<div class="form-group"></div>
    <label for="post-title" class="form-label">Story Title</label>
    <input type="text" id="post-title" class="form-input" placeholder="Enter your story title" required>
</div>

<div class="form-group">
    <label for="post-content" class="form-label">Your Story</label>
    <textarea id="post-content" class="form-textarea" placeholder="Share your inspiring story here..." rows="5" required></textarea>
</div>

<div class="form-group">
    <label for="target-amount" class="form-label">Donation Target</label>
    <div class="input-with-icon">
        <span class="currency-symbol">â‚±</span>
        <input type="number" id="target-amount" class="form-input" placeholder="Amount needed" min="0">
    </div>
</div>

<div class="form-group">
    <label for="post-image" class="form-label">Story Image</label>
    <input type="file" id="post-image" class="form-file-input" accept="image/*">
    <p class="form-hint">Add a relevant image to your story</p>
    <div id="imagePreviewContainer" class="preview-container"></div>
</div>

<div class="form-group">
    <label for="gcash-qr" class="form-label">GCash QR Code</label>
    <input type="file" id="gcash-qr" class="form-file-input" accept="image/*">
    <p class="form-hint">Upload your GCash QR code for donations</p>
    <div id="qrPreviewContainer" class="preview-container"></div>
</div>

<div class="form-actions">
    <button type="submit" class="submit-btn">
        <i class='bx bx-send'></i> Share Your Story
    </button>
</div>
</form></div>
                    </div>
                </section>

                <!-- Posts Feed Section -->
                <section class="posts-feed">
                    <h2>Community Stories</h2>
                    <div id="no-posts-message">
                        <p>There are no stories yet. Be the first to share your story!</p>
                    </div>
                    
                    <div class="posts-container" id="postsContainer">
                        <!-- Posts will be dynamically inserted here by JavaScript -->
                    </div>
                </section>
            </div>
        </div>

        <!-- Post Template (Hidden) -->
        <template id="post-template">
            <div class="post-card">
                <div class="post-header">
                    <div class="profile-pic-placeholder"></div>
                    <div class="post-info">
                        <h3 class="post-author"></h3>
                        <span class="post-date"></span>
                    </div>
                </div>
                <h3 class="post-title"></h3>
                <div class="post-content">
                    <p></p>
                </div>
                <div class="post-image-container">
                    <img src="" alt="Post Image" class="post-image">
                </div>
                <div class="donation-stats">
                    <div class="progress-bar">
                        <div class="progress"></div>
                    </div>
                    <div class="stats-info">
                        <span class="amount-raised"></span>
                        <span class="amount-goal"></span>
                    </div>
                </div>
                <div class="post-actions">
                    <button class="donate-btn"><i class='bx bx-donate-heart'></i> Donate Now</button>
                    <button class="share-btn"><i class='bx bx-share'></i> Share</button>
                </div>
                <div class="donation-modal">
                    <div class="modal-content">
                        <span class="close-modal">&times;</span>
                        <h3></h3>
                        <div class="qr-container">
                            <img src="" alt="GCash QR Code" class="qr-code">
                        </div>
                        <p>Scan this QR code with your GCash app to donate</p>
                    </div>
                </div>
            </div>
        </template>
        
        <script src="../scripts/script.js"></script>
    </body>
</html>